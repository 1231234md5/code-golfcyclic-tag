{{ template "header" . }}

<style nonce="{{ .Nonce }}">
main {
    grid-gap: 0;
    padding: 0;
}

main nav {
    background: var(--background);
    border-bottom: 2px solid var(--color);
    padding: 1rem 1rem 0;
    position: sticky;
    top: 2.75rem;
}

progress {
    background: var(--grey);
    border: 0;
    height: .5rem;
    margin: .25rem 0;
    width: 100%;
}

progress::-moz-progress-bar      { background: var(--blue) }
progress::-webkit-progress-bar   { background: var(--grey) }
progress::-webkit-progress-value { background: var(--blue) }

.locked { background: var(--grey) }

.locked div {
    color: transparent;
    text-shadow: 0 0 var(--color);
}

.trophy {
    display: grid;
    grid-gap: .5rem 1.25rem;
    grid-template: min-content 1fr min-content / min-content 1fr;
    padding: 1.25rem;
}

.trophy > :last-child { font-size: .875rem }

.trophy div {
    /*font-family: apple color emoji,segoe ui emoji,noto color emoji,android emoji,emojisymbols,emojione mozilla,segoe ui symbol;*/
    font-family: 'Twemoji Mozilla';
    font-size: 4rem;
    grid-row: span 3;
}

.trophy span { color: var(--red) }

#profile { padding: 1rem 1rem 0 }

#trophies { display: grid }
</style>

<main>
    <div class=grid id=profile>
        <img src="//avatars.githubusercontent.com/JRaspass?s=192">
        <h1>JRaspass</h1>
        <p>32,146 points
        <p>41/42 holes
        <p>11/14 trophies
    </div>

    <nav class=nav>
        <a>Trophies</a>
        <a href="/golfers/JRaspass/holes">Holes</a>
        <a href="/settings">Settings</a>
    </nav>

    <div id=trophies>
    {{ $max := .Data.Max }}

    {{ range .Data.Trophies }}
        <div class="trophy {{ if not .Earned.Valid }} locked {{ end }}">
            <div>{{ .Trophy.Emoji }}</div>
            <h2>{{ .Trophy.Name }}</h2>
            <p>{{ .Trophy.Description }}
            <p>
                Won by {{ comma .Count }} ({{ .Percent }}%)
                <progress value="{{ .Count }}" max="{{ $max }}"></progress>
            {{ if .Earned.Valid }}
                ðŸ”“ {{ time .Earned.Value }}
            {{ else }}
                <span>ðŸ”’ Not Won</span>
            {{ end }}
        </div>
    {{ end }}
    </div>
</main>
